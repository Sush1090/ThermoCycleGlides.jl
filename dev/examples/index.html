<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Examples · ThermoCycleGlides.jl</title><meta name="title" content="Examples · ThermoCycleGlides.jl"/><meta property="og:title" content="Examples · ThermoCycleGlides.jl"/><meta property="twitter:title" content="Examples · ThermoCycleGlides.jl"/><meta name="description" content="Documentation for ThermoCycleGlides.jl."/><meta property="og:description" content="Documentation for ThermoCycleGlides.jl."/><meta property="twitter:description" content="Documentation for ThermoCycleGlides.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ThermoCycleGlides.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Examples</a><ul class="internal"><li><a class="tocitem" href="#Heat-Pump"><span>Heat Pump</span></a></li><li><a class="tocitem" href="#Heat-Pump-with-IHEX"><span>Heat Pump with IHEX</span></a></li><li><a class="tocitem" href="#Organic-Rankine-Cycle"><span>Organic Rankine Cycle</span></a></li><li><a class="tocitem" href="#Organic-Rankine-Cycle-with-IHEX"><span>Organic Rankine Cycle with IHEX</span></a></li><li class="toplevel"><a class="tocitem" href="#Mixtures"><span>Mixtures</span></a></li><li class="toplevel"><a class="tocitem" href="#Plotting"><span>Plotting</span></a></li><li class="toplevel"><a class="tocitem" href="#Limitation"><span>Limitation</span></a></li></ul></li><li><a class="tocitem" href="../optimization/">Optimization</a></li><li><a class="tocitem" href="../reference/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Examples</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Sush1090/ThermoCycleGlides.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Sush1090/ThermoCycleGlides.jl/blob/main/docs/src/examples.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h1><p>These examples show how to construct the system with parameters and how to solve it.</p><p><strong>Note</strong> In all examples <code>z</code> denotes the number of moles, for mixtures ensure <code>length(z)</code> is same as the number of fluid components. </p><h2 id="Heat-Pump"><a class="docs-heading-anchor" href="#Heat-Pump">Heat Pump</a><a id="Heat-Pump-1"></a><a class="docs-heading-anchor-permalink" href="#Heat-Pump" title="Permalink"></a></h2><p>The goal of a heat pump is to heat up the secondary fluid of the condenser with some input of energy. See <a href="https://en.wikipedia.org/wiki/Heat_pump_and_refrigeration_cycle">Heat pump and Refrigeration cycle</a>.</p><p><img src="../Images/HP_example.png" alt="hp_example"/></p><p>To construct the system, do the following:</p><pre><code class="language-julia hljs">julia&gt; using Clapeyron, ThermoCycleGlides

julia&gt; fluid = cPR([&quot;cyclopentane&quot;],idealmodel = ReidIdeal);

julia&gt; η_comp = 0.75; pp_cond = 2; pp_evap = 2;

julia&gt; T_evap_in = 273.15 + 10; T_evap_out = 273.15 + 0; T_cond_in = 273.15 + 50;  T_cond_out = 273.15+60;

julia&gt; ΔT_sc = 3; ΔT_sh = 10;

julia&gt; hp = HeatPump(fluid=fluid,z=[1.0],T_evap_in=T_evap_in,T_evap_out = T_evap_out,T_cond_in = T_cond_in,T_cond_out=T_cond_out,η_comp=η_comp,pp_evap=pp_evap,pp_cond=pp_cond,ΔT_sc = ΔT_sc,ΔT_sh = ΔT_sh);

julia&gt; sol_hp = solve(hp,ThermoCycleParameters(autodiff=false))
SolutionState{Float64, Int64}([0.12829257763187535, 1.4551588056895837], 16, 7, [0.0, 5.684341886080802e-14], [0.07660159441435545, 0.07660159441435545], [1.6566058479359296, 1.6566058479359296], true, 0, 2.5468671054250572e-15, 8.038873388460929e-14)
 
julia&gt; COP(hp,sol_hp)
-3.735868783526992</code></pre><p><em>Note:</em> <code>COP</code> is <a href="https://en.wikipedia.org/wiki/Coefficient_of_performance">Coefficient of Performance</a> of the Heat Pump, it is negative as we see change of enthalpy of the working fluid which is negative in the condenser.</p><p>To plot do the following:</p><pre><code class="language-julia hljs">using Plots

plot(hp,sol_hp,N=100)</code></pre><p><img src="../Images/hp_cyclopentane.png" alt="HP_cyclopentane"/></p><h2 id="Heat-Pump-with-IHEX"><a class="docs-heading-anchor" href="#Heat-Pump-with-IHEX">Heat Pump with IHEX</a><a id="Heat-Pump-with-IHEX-1"></a><a class="docs-heading-anchor-permalink" href="#Heat-Pump-with-IHEX" title="Permalink"></a></h2><p>Now the same heatpump with an internal heat exchanger of effectiveness (<span>$\epsilon$</span>) of <code>0.7</code> can be constructed as follows:</p><p><img src="../Images/HP_recuperator_example.png" alt="HP_recuperator_cyclopentane"/></p><pre><code class="language-julia hljs">julia&gt; hp_ihex = HeatPumpRecuperator(hp=hp,ϵ=0.7);

julia&gt; sol_ihex = solve(hp_ihex,ThermoCycleParameters(autodiff = false))
SolutionState{Float64, Int64}([0.12829257763094135, 1.4173574009393946], 20, 4, [-2.4442670110147446e-11, 1.475086719437968e-10], [0.07660159441435545, 0.07660159441435545], [1.6566058479359296, 1.6566058479359296], false, 2, 2.9305166342606847e-7, 1.4952007363807764e-10, :subcritical)

julia&gt; COP(hp_ihex,sol_ihex)
-3.812238518177511</code></pre><p><img src="../Images/hp_recuperaor_cycle_example.png" alt="HP_recupuerator_cycle"/></p><h2 id="Organic-Rankine-Cycle"><a class="docs-heading-anchor" href="#Organic-Rankine-Cycle">Organic Rankine Cycle</a><a id="Organic-Rankine-Cycle-1"></a><a class="docs-heading-anchor-permalink" href="#Organic-Rankine-Cycle" title="Permalink"></a></h2><p>An Organic Rankine Cycle aims to generate electricity from heating the working fluid, and passing it through an expander. See <a href="https://en.wikipedia.org/wiki/Organic_Rankine_cycle">Organic Rankine Cycle</a> for more information.</p><p><img src="../Images/ORC_example.png" alt="orc_example"/></p><pre><code class="language-julia hljs">julia&gt; fluid = cPR([&quot;propane&quot;],idealmodel = ReidIdeal);

julia&gt; orc = ORC(fluid = fluid,z = [1.0], T_evap_in = 360, T_evap_out = 340, T_cond_in = 280, T_cond_out = 290, η_expander = 0.75, η_pump = 0.8, ΔT_sh = 7.0, ΔT_sc= 3.0, pp_evap = 3.0, pp_cond = 3)
ORC{Float64}(PR{ReidIdeal, TwuAlpha, NoTranslation, vdW1fRule}(&quot;Propane&quot;), [1.0], 360.0, 340.0, 7.0, 280.0, 290.0, 3.0, 0.8, 0.75, 3.0, 3.0)

julia&gt; sol = solve(orc,ThermoCycleParameters(autodiff=false))
SolutionState{Float64, Int64}([27.24650730018187, 8.310317975013438], 15, 3, [5.294850780046545e-9, -1.1973043001489714e-8], [19.921551772573725, 6.969208543698516], [29.511108921525086, 9.094386318669063], false, 2, 1.1554828892488157e-5, 1.3091569940174529e-8, :subcritical)

julia&gt; η(orc,sol)
-0.08885630486192948</code></pre><p><em>Note:</em> Here, the efficiency is also negative as there is an enthalpy drop of the working fluid in the expander while there is an enthalpy gain in the evaporator. </p><p>To plot the ORC cycle: </p><pre><code class="language-julia hljs">julia&gt; using Plots

julia&gt; plot(orc,sol,N =300)</code></pre><p><img src="../Images/orc_propane.png" alt="orc_propane"/></p><h2 id="Organic-Rankine-Cycle-with-IHEX"><a class="docs-heading-anchor" href="#Organic-Rankine-Cycle-with-IHEX">Organic Rankine Cycle with IHEX</a><a id="Organic-Rankine-Cycle-with-IHEX-1"></a><a class="docs-heading-anchor-permalink" href="#Organic-Rankine-Cycle-with-IHEX" title="Permalink"></a></h2><p>As for the heatpump we now construct the ORC with internal heat exchanger. </p><p><img src="../Images/ORC_economizer_example.png" alt="ORC_economizer_example"/></p><pre><code class="language-julia hljs">julia&gt; orc_ihex = ORCEconomizer(orc=orc,ϵ=0.7);

julia&gt; sol_ihex = solve(orc_ihex,ThermoCycleParameters(autodiff=false))
SolutionState{Float64, Int64}([26.973845640165056, 8.391221086120005], 15, 3, [-3.0100864023552276e-9, -3.514094260026468e-8], [19.921551772573725, 6.969208543698516], [29.511108921525086, 9.094386318669063], false, 2, 1.4416423095843544e-5, 3.5269625274231946e-8, :subcritical)

julia&gt; η(orc_ihex,sol_ihex)
-0.0908283533392522</code></pre><p><img src="../Images/orc_economizer_cycle_example.png" alt="ORC_economizer_example_cycle"/></p><h1 id="Mixtures"><a class="docs-heading-anchor" href="#Mixtures">Mixtures</a><a id="Mixtures-1"></a><a class="docs-heading-anchor-permalink" href="#Mixtures" title="Permalink"></a></h1><p>To use mixtures (multi-component) models for Clapeyron, construct the fluid with the desired components and ensure <code>z</code> to be the moles of each component and pass it to the cycle. In terms of solving, the difference with respect to pure fluids is that now there is a possibility of pinch point to be in two-phase. Hence we discretize the phase change zones.</p><pre><code class="language-julia hljs">julia&gt; using Clapeyron, ThermoCycleGlides

julia&gt; fluid = cPR([&quot;propane&quot;,&quot;butane&quot;],idealmodel = ReidIdeal);

julia&gt; η_comp = 0.75; pp_cond = 2; pp_evap = 2;

julia&gt;  T_evap_in = 273.15 + 10; T_evap_out = 273.15 + 0; T_cond_in = 273.15 + 50;  T_cond_out = 273.15+60;

julia&gt; ΔT_sc = 3; ΔT_sh = 10;

julia&gt;  hp = HeatPump(fluid=fluid,z=[1.0,1.0],T_evap_in=T_evap_in,T_evap_out = T_evap_out,T_cond_in = T_cond_in,T_cond_out=T_cond_out,η_comp=η_comp,pp_evap=pp_evap,pp_cond=pp_cond,ΔT_sc = ΔT_sc,ΔT_sh = ΔT_sh);

julia&gt; sol_hp = solve(hp,ThermoCycleParameters(autodiff=false))
SolutionState{Float64, Int64}([1.5812457906456645, 11.770249683622305], 20, 4, [4.746425474877469e-11, -1.3073986337985843e-12], [1.0706541681245205, 1.0706541681245205], [14.486154094902748, 14.486154094902748], false, 2, 4.0127165888769095e-8, 4.748225742363393e-11, :subcritical)

julia&gt; show(sol_hp)
Iterations: 4
Function calls: 20
Final residuals: [4.746425474877469e-11, -1.3073986337985843e-12]
Final residual norm: 4.748225742363393e-11
Final x: [1.5812457906456645, 11.770249683622305]
Final lenx ||xn - xk||/||xk||: 4.0127165888769095e-8
Final lenf ||f(xn)||: 4.748225742363393e-11
Lower bounds: [1.0706541681245205, 1.0706541681245205]
Upper bounds: [14.486154094902748, 14.486154094902748]
Autodiff: false
Finite difference order: 2
Solution type: subcritical</code></pre><h1 id="Plotting"><a class="docs-heading-anchor" href="#Plotting">Plotting</a><a id="Plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting" title="Permalink"></a></h1><p>To plot the cycle use first load Plots.jl. Then follow:</p><pre><code class="language-julia hljs">plot(prob::ThermoCycleProblem,sol::SolutionState,kwargs...)</code></pre><p>To just plot the TS diagram of the fluid do:</p><pre><code class="language-julia hljs">plot(fluid::EoSModel,z::AbstractVector,kwargs...)</code></pre><h1 id="Limitation"><a class="docs-heading-anchor" href="#Limitation">Limitation</a><a id="Limitation-1"></a><a class="docs-heading-anchor-permalink" href="#Limitation" title="Permalink"></a></h1><ol><li>Fluid models are limited to the ones provided by default in Clapeyron.jl. Now restricted to <code>CubicModel</code> and <code>SingleFluid</code> models. </li><li>For now the solver is stable for sub-critical parameters. So if incase the solver does not converge please check if the parameters provided allow the solution to be subcritical. </li><li>For mixtures, it is recommended to use parameters sufficently below the critical point as sometimes near crictical zone the computation of dew and bubble points can fail.   </li><li>If for solving with <code>autodiff = true</code>, the first run will have significant compilation time. The subsequent runs will be faster.</li></ol></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../optimization/">Optimization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Thursday 4 December 2025 15:54">Thursday 4 December 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
